(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{74:function(e,t,n){"use strict";n.r(t);var i=n(0),o=function(e){var t,n,i,o,a,s,l=(t="ansible",o=void 0,a="spotify",s="terminal life",(n={}).type=i="post",n.internal=o,n.contentType="markdown",n.slug="the-new-dots",n.content=o,n.createdAt=new Date(16651008e5),n.updatedAt=new Date(1665130076893),n.layout=i,n.title="Setting up my new computer, vim, and listening to Spotify in the terminal",n.date="2022-10-07",n.tags=[a,t,"vim",s],n.markdownHeadings=[{text:"Setting up my new computer, neovim configs, and listening to Spotify in the terminal",slug:"setting-up-my-new-computer-neovim-configs-and-listening-to-spotify-in-the-terminal",level:1},{text:"Ansible",slug:t,level:2},{text:"Stow",slug:"stow",level:2},{text:"Spotifyd and spotify-tui",slug:"spotifyd-and-spotify-tui",level:2},{text:"Tmuxinator",slug:"tmuxinator",level:2},{text:"Conclusion",slug:"conclusion",level:2}],n.excerpt="<p>I recently got a new laptop, and I decided that this would finally be the time that I don't set it up in a completely ad hoc way.\nPreviously I would install every program I needed as I needed it, with no real plan of how I would replicate the setup if I needed to move to a different machine, or wipe the current one.\nTellingly, the one thing that I <em>did</em> make an effort to protect was my Vim config, which I've been maintaining for five years at this point (I have been a software developer for 5 years).\nI want more things to be like Vim, so, I should decided to setup my computer with Ansible.</p>\n",n.permalink="/posts/the-new-dots.html",n.assets={},n.attributes=n,n.tagsInfo=[{name:a,permalink:"/tags/spotify"},{name:t,permalink:"/tags/ansible"},{name:"vim",permalink:"/tags/vim"},{name:s,permalink:"/tags/terminal-life"}],n),r=e.options.beforeCreate||[];e.options.beforeCreate=[function(){this.$page=l}].concat(r);["layout","transition"].forEach((function(t){var n=e.options.PageComponent;n&&(e.options[t]=n[t]),void 0===e.options[t]&&(e.options[t]=l[t])})),l.slug&&(e.options.name="page-wrapper-"+l.slug.replace(/[^0-9a-z\-]/gi,"-"))},a=Object(i.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout-manager",[n("h1",{attrs:{id:"setting-up-my-new-computer-neovim-configs-and-listening-to-spotify-in-the-terminal"}},[e._v("Setting up my new computer, neovim configs, and listening to Spotify in the terminal")]),e._v(" "),n("p",[e._v("I recently got a new laptop, and I decided that this would finally be the time that I don't set it up in a completely ad hoc way.\nPreviously I would install every program I needed as I needed it, with no real plan of how I would replicate the setup if I needed to move to a different machine, or wipe the current one.\nTellingly, the one thing that I "),n("em",[e._v("did")]),e._v(" make an effort to protect was my Vim config, which I've been maintaining for five years at this point (I have been a software developer for 5 years).\nI want more things to be like Vim, so, I should decided to setup my computer with Ansible.")]),e._v(" "),n("p",[e._v("As well as having a good name (presumably from Ursula Le Guin's interplanetary communcation macguffin), Ansible is a really cool and useful tool.\nIt lets you write some yaml that explain things you want doing to a computer. Then it takes this recipe and runs the specified commands.\nSo for example I have the following command to download the codebase of my personal website, where I wrote this post that you are now reading.")]),e._v(" "),n("h2",{attrs:{id:"ansible"}},[e._v("Ansible")]),e._v(" "),n("div",{pre:!0,attrs:{class:"saber-highlight","data-lang":"yaml"}},[n("pre",{pre:!0,attrs:{class:"saber-highlight-code language-yaml"}},[n("code",{pre:!0,attrs:{class:"language-yaml"}},[e._v("- name: Personal Project johncom\n  ansible.builtin.git:\n    repo: 'git@github.com:Jwhiles/johncom.git'\n    bare: false\n    dest: \"{{ lookup('env', 'HOME') }}/personal/johncom\"\n  tags:\n    - install\n    - personal-project")])])]),n("p",[e._v("This means that I can get a new computer, run ansible and the codebase will be immediately be there, ready for me to write things in it. Nice!")]),e._v(" "),n("p",[e._v("I'm also using Ansible to:")]),e._v(" "),n("ul",[n("li",[e._v("install all the homebrew packages I want")]),e._v(" "),n("li",[e._v("store my ssh keys")]),e._v(" "),n("li",[e._v("set up a cronjob to sync my weird and overly complicated multicomputer note taking system")]),e._v(" "),n("li",[e._v("ETC")])]),e._v(" "),n("p",[e._v("Cool! I love it.")]),e._v(" "),n("p",[e._v("Ansible seems to be the imperative equivalent to something like Nix.\nIn ansible I'm describing the steps I want it to take to get my computer in order, whereas in Nix I would just describe the computer I wanted and it would hopefully give it to me.\nOne advantage of ansible is that it's slightly less likely to fill my entire hard drive storing slightly different versions of GHC. So that's nice.")]),e._v(" "),n("h2",{attrs:{id:"stow"}},[e._v("Stow")]),e._v(" "),n("p",[e._v("As well as setting up a new repo to hold my Ansible config, I've converted my beloved repo 'vimmy' into a more general dotfiles repo.\nIt's now called "),n("saber-link",{attrs:{to:"https://github.com/Jwhiles/dotfiles-FKA-vimmy"}},[e._v("dotfiles-FKA-vimmy")]),e._v(", and alongside my Vim config also contains some other configuration files.")],1),e._v(" "),n("p",[e._v("Stow is a CLI tool for managing symlinks, that has allowed me to replace an ugly script I once wrote:")]),e._v(" "),n("div",{pre:!0,attrs:{class:"saber-highlight","data-lang":"sh"}},[n("pre",{pre:!0,attrs:{class:"saber-highlight-code language-sh"}},[n("code",{pre:!0,attrs:{class:"language-sh"}},[e._v('echo "adding the appropirate nvim init file"\nmkdir -p ~/.config/nvim\nln -s ~/.vim/init.lua ~/.config/nvim/init.lua\nln -s ~/.vim/lua ~/.config/nvim/lua\n\necho "creating symlink to .tmux.conf"\nln -s ~/.vim/.tmux.conf ~/.tmux.conf\n\necho "done and done ðŸ‘» "')])])]),n("p",[e._v("With a new beautiful script that does basically the same thing but better:")]),e._v(" "),n("div",{pre:!0,attrs:{class:"saber-highlight","data-lang":""}},[n("pre",{pre:!0,attrs:{class:"saber-highlight-code language-text"}},[n("code",{pre:!0,attrs:{class:"language-text"}},[e._v('pushd $HOME/.dotfiles\n\necho "stowing nvim"\nstow nvim\necho "stowing tmux"\nstow tmux\necho "stowing zsh"\nstow zsh')])])]),n("p",[e._v("Stow seems really neat, but it does have a slightly weird behaviour where it places all symlinks in the folder one step up from your working directory.\nSo try and make sure that you run in it the right place ;)")]),e._v(" "),n("h2",{attrs:{id:"spotifyd-and-spotify-tui"}},[e._v("Spotifyd and spotify-tui")]),e._v(" "),n("p",[e._v("Like most people in my demographic group, I listen to a lot of music on spotify. But I "),n("em",[e._v("hate")]),e._v(" the spotify client. It's really slow and bad, and continually getting worse.\nWhilst setting up all this computer stuff, I idly searched something like 'native spotify client', and lo I found two incredible Rust programs.")]),e._v(" "),n("p",[n("img",{attrs:{src:"/spotterm.png",alt:"IMG"}})]),e._v(" "),n("p",[e._v("Spotifyd is a daemon that can sit running on your computer, waiting for spotify to send music for it to play. spotify-tui is a terminal application that lets you browse music, and play it on any connected devices.\nUsing the two together lets me have music controlled and played through the terminal. It's much faster than the normal Spotify client, makes you look like a real hacker, and only shows a few inexplicable errors.")]),e._v(" "),n("p",[e._v("It took me a bit of a struggle to get spotifyd to actually run successfully.\nIt seems like it will just fail quietly unless you have a valid config, and some of the default config values aren't valid on Osx, I think (I might be wrong about this, but if I'm right it seems like a nice thing to try and fix). Now it works though, and I love it.")]),e._v(" "),n("h2",{attrs:{id:"tmuxinator"}},[e._v("Tmuxinator")]),e._v(" "),n("p",[e._v("Imagine you are a complete maniac and have decided to use some horrible setup where you listen to music in your terminal by using two different command line tools that both need to be running at the same time.\nHow do you go about actually opening and running these things in less time than it would take to open the normal Spotify client (~30seconds).\nLet me introduce you to Tmuxinator. It's nice little tool that lets you write some YAML to describe a tmux session you'd like to start.")]),e._v(" "),n("p",[e._v("For example:")]),e._v(" "),n("div",{pre:!0,attrs:{class:"saber-highlight","data-lang":"yaml"}},[n("pre",{pre:!0,attrs:{class:"saber-highlight-code language-yaml"}},[n("code",{pre:!0,attrs:{class:"language-yaml"}},[e._v("# /Users/johnwhiles/.config/tmuxinator/music.yml\n\nname: music\nroot: ~/\n\nwindows:\n  - spotify: spt\n  - daemon: spotifyd --no-daemon")])])]),n("p",[e._v("This configures a TMUX session that will open with two panes, one running spotifyd, and the other running spotify-tui.\nNow we can start our weird music listening setup by typing "),n("code",{pre:!0},[e._v("tmuxinator start music")]),e._v(", this is both easy "),n("em",[e._v("and")]),e._v(" is exactly the sort of thing I imagined I would be saying to computers in 2022.")]),e._v(" "),n("h2",{attrs:{id:"conclusion"}},[e._v("Conclusion")]),e._v(" "),n("p",[e._v("Ansible is cool. You can see "),n("saber-link",{attrs:{to:"https://github.com/Jwhiles/ansible"}},[e._v("my setup on Github")]),e._v(". I originally forked it from "),n("saber-link",{attrs:{to:"https://github.com/adamchainz/mac-ansible"}},[e._v("this repo")]),e._v(", and also to a look of inspiration from "),n("saber-link",{attrs:{to:"https://github.com/ThePrimeagen/ansible"}},[e._v("The Primeagen's setup")]),e._v(".")],1),e._v(" "),n("p",[e._v("BYE!")])])}),[],!1,null,null,null);"function"==typeof o&&o(a);t.default=a.exports}}]);